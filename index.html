<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta><title>AzarAI-Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="AI_Blog"><meta name="msapplication-TileImage" content="/img/azarai.jpeg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="AI_Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="AzarAI-Blog"><meta property="og:url" content="http://azarai.top/"><meta property="og:site_name" content="AzarAI-Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://azarai.top/img/og_image.png"><meta property="article:author" content="AzarAI"><meta property="article:tag" content="AzarAI"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://azarai.top/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://azarai.top"},"headline":"AzarAI-Blog","image":["http://azarai.top/img/og_image.png"],"author":{"@type":"Person","name":"AzarAI"},"publisher":{"@type":"Organization","name":"AzarAI-Blog","logo":{"@type":"ImageObject","url":"http://azarai.top/img/azarai.jpeg"}},"description":""}</script><link rel="icon" href="/img/azarai.jpeg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="dns-prefetch" href="https://azarai.top"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="//hm.baidu.com/hm.js?abd35ad4f7c630470d651c84e2052be9",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><script>!function(){function e(){var e,t,a;location.hash&&(e="#"+CSS.escape(location.hash.substring(1)),t=document.querySelector(`.tabs a[href="${e}"]`))&&(a=t.parentElement.parentElement,Array.from(a.children).forEach(e=>e.classList.remove("is-active")),Array.from(a.querySelectorAll("a")).map(e=>document.getElementById(e.getAttribute("href").substring(1))).forEach(e=>e.classList.add("is-hidden")),t&&t.parentElement.classList.add("is-active"),a=document.querySelector(e))&&a.classList.remove("is-hidden")}e(),window.addEventListener("hashchange",e,!1)}()</script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/azarai.jpeg" alt="AzarAI-Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/AzarAI-TOP/"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><a class="has-link-black-ter" href="/Algorithm-2-Cycle-List.html">Algorithm [2] Cycle List</a></h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time datetime="${date_xml(page.date)}" title="${new Date(page.date).toLocaleString()}">$2023-05-27</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time datetime="2023-05-26T17:53:24.265Z" title="2023-05-26T17:53:24.265Z">2023-05-27</time></span><span class="level-item"><a class="link-muted" href="/categories/Algorithm/">Algorithm</a></span><span class="level-item">3 minutes read (About 488 words)</span></div></div><div class="content"><h3 id="Instruction">Instruction</h3><p>A cycle list is a linked list that has a cycle in it. A cycle is formed when a node in the end linked to the node in the start. With two pointer stored in each node, you can go throuth the cycle in both two directions easily and solve some circular problems.</p><h3 id="Code-Completion">Code Completion</h3><figure class="highlight c"><figcaption><span>Cycle_List.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _CYCLE_LIST_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _CYCLE_LIST_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">prev</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">NodeHolder</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> size;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">node</span>;</span></span><br><span class="line">&#125; NodeHolder;</span><br><span class="line"></span><br><span class="line">Node* <span class="title function_">Node_Init</span> <span class="params">(<span class="type">int</span> data)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Node_Connect_Prev</span> <span class="params">(Node* nsrc, Node* ndest)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Node_Connect_Next</span> <span class="params">(Node* nsrc, Node* ndest)</span>;</span><br><span class="line"></span><br><span class="line">NodeHolder* <span class="title function_">NodeHolder_Init</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Init_Push</span> <span class="params">(NodeHolder* nh, Node* node)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Init_EndCycle</span> <span class="params">(NodeHolder* nh)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Insert_Prev</span> <span class="params">(NodeHolder* nh, Node* node)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Insert_Next</span> <span class="params">(NodeHolder* nh, Node* node)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Prev</span> <span class="params">(NodeHolder* nh)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Next</span> <span class="params">(NodeHolder* nh)</span>;</span><br><span class="line"><span class="type">int</span>  <span class="title function_">NodeHolder_Pop</span> <span class="params">(NodeHolder* nh)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>Cycle_List.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Cycle_List.h&quot;</span></span></span><br><span class="line"></span><br><span class="line">Node* <span class="title function_">Node_Init</span> <span class="params">(<span class="type">int</span> data)</span> &#123;</span><br><span class="line">    Node* pn = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (pn==<span class="literal">NULL</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;[ERROR] Out of Memory&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pn-&gt;data = data;</span><br><span class="line">    pn-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line">    pn-&gt;prev = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Node_Connect_Prev</span> <span class="params">(Node* pnsrc, Node* pndest)</span> &#123;</span><br><span class="line">    pnsrc-&gt;prev = pndest;</span><br><span class="line">    pndest-&gt;next = pnsrc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Node_Connect_Next</span> <span class="params">(Node* pnsrc, Node* pndest)</span> &#123;</span><br><span class="line">    pnsrc-&gt;next = pndest;</span><br><span class="line">    pndest-&gt;prev = pnsrc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  When we create the cycle list, there are xxx steps:</span></span><br><span class="line"><span class="comment"> *      1. NodeHolder_Init :        Create a blank holder</span></span><br><span class="line"><span class="comment"> *      2. NodeHolder_Init_Push :   Push several nodes at the back of list</span></span><br><span class="line"><span class="comment"> *      3. NodeHolder_Init_EndCycle:Connect the head and tail of the list</span></span><br><span class="line"><span class="comment"> *  In the second step, the holder holds the last node operated.</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NodeHolder* <span class="title function_">NodeHolder_Init</span> <span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    NodeHolder* pnh = (NodeHolder*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NodeHolder));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (pnh==<span class="literal">NULL</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;[ERROR] Out of Memory&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pnh-&gt;size = <span class="number">0</span>;</span><br><span class="line">    pnh-&gt;node = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> pnh;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Init_Push</span> <span class="params">(NodeHolder* pnh, Node* pnode)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (pnh-&gt;node == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        pnh-&gt;node = pnode;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        Node_Connect_Next(pnh-&gt;node, pnode);</span><br><span class="line">        pnh-&gt;node = pnode;</span><br><span class="line">    &#125;</span><br><span class="line">    pnh-&gt;size++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Init_EndCycle</span> <span class="params">(NodeHolder* pnh)</span> &#123;</span><br><span class="line">    Node* head = pnh-&gt;node;</span><br><span class="line">    Node* tail = pnh-&gt;node;</span><br><span class="line">    <span class="keyword">while</span> (head-&gt;prev != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        head = head-&gt;prev;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node_Connect_Next(tail, head);</span><br><span class="line"></span><br><span class="line">    pnh-&gt;node = head;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Insert_Prev</span> <span class="params">(NodeHolder* pnh, Node* pnode)</span> &#123;</span><br><span class="line">    Node* current = pnh-&gt;node;</span><br><span class="line">    Node* prev = pnh-&gt;node-&gt;prev;</span><br><span class="line"></span><br><span class="line">    Node_Connect_Prev(current, pnode);</span><br><span class="line">    Node_Connect_Prev(pnode, prev);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Insert_Next</span> <span class="params">(NodeHolder* pnh, Node* pnode)</span> &#123;</span><br><span class="line">    Node* current = pnh-&gt;node;</span><br><span class="line">    Node* next = pnh-&gt;node-&gt;next;</span><br><span class="line"></span><br><span class="line">    Node_Connect_Next(current, pnode);</span><br><span class="line">    Node_Connect_Next(pnode, next);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Prev</span> <span class="params">(NodeHolder* pnh)</span> &#123;</span><br><span class="line">    pnh-&gt;node = pnh-&gt;node-&gt;prev;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NodeHolder_Next</span> <span class="params">(NodeHolder* pnh)</span> &#123;</span><br><span class="line">    pnh-&gt;node = pnh-&gt;node-&gt;next;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">NodeHolder_Pop</span> <span class="params">(NodeHolder* pnh)</span> &#123;</span><br><span class="line">    <span class="type">int</span> data = pnh-&gt;node-&gt;data;</span><br><span class="line"></span><br><span class="line">    Node* prev = pnh-&gt;node-&gt;prev;</span><br><span class="line">    Node* next = pnh-&gt;node-&gt;next;</span><br><span class="line">    Node_Connect_Next(prev, next);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">free</span>(pnh-&gt;node);</span><br><span class="line">    pnh-&gt;node = next;</span><br><span class="line">    pnh-&gt;size--;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Preference">Preference</h3><p><a target="_blank" rel="noopener" href="https://www.baeldung.com/java-linked-list-cyclicity">Test a Linked List for Cyclicity</a></p></div></article></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><a class="has-link-black-ter" href="/STM32F407-Learning-Note-12.html">STM32F407 Learning Note 12</a></h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time datetime="${date_xml(page.date)}" title="${new Date(page.date).toLocaleString()}">$2023-05-26</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time datetime="2023-05-26T07:40:45.587Z" title="2023-05-26T07:40:45.587Z">2023-05-26</time></span><span class="level-item"><a class="link-muted" href="/categories/STM32/">STM32</a><span> / </span><a class="link-muted" href="/categories/STM32/F407/">F407</a></span><span class="level-item">3 minutes read (About 435 words)</span></div></div><div class="content"><h3 id="按键介绍">按键介绍</h3><p>按键是一种电子开关,使用时亲亲按开关就可以使开关接通,当松开手时,开关断开.</p><p><img src="2023-05-26T142337.png" alt="2023-05-26T142337"></p><p>(pcb按钮有四个引脚,但是有两两短路连接的,也就是说在电气属性方面相当于两个引脚.pcb按钮之所以要做成4个引脚是为了将按钮焊紧在pcb板上,按动时候就不会摇晃,如果是两个引脚,在按动的时候引脚容易出现晃动的现象,甚至引脚断开,音响按钮功能.)</p><ul class="lvl-0"><li class="lvl-2"><p>机械弹性开关的电压信号图</p><p><img src="2023-05-26T143011.png" alt="2023-05-26T143011"></p></li><li class="lvl-2"><p>信号噪音抖动</p><p>由于机械点的弹性作用,按键开关在闭合时不会马上稳定额接通,在断开时也不会一下子断开,因而在闭合和断开的瞬间均伴随着一连串的抖动.抖动时间的长短由按键的机械特性决定,一般为 5ms 到 10ms.按键稳定闭合时间则是由操作人员决定的,一般为零点几秒至数秒.按键抖动会引起按键被误读多次.为了确保cPU对按键的一次闭合仅作一次处理,必须进行消抖.消抖则是有两种方式:</p><ul class="lvl-2"><li class="lvl-4"><p>硬件消抖 (硬件较少)</p></li><li class="lvl-4"><p>软件消抖 (硬件较多)</p><p>一般来说,一个简单的按键就是先读取按键的状态,如果得到按键按下之后,延时10ms,再次读取按键状态,如果按键还是处于按下状态,那么说明按键已经按下.</p></li></ul><p>为了电路更加简单,一般采用软件消抖.我们开发板也是采用软件消抖</p></li></ul></div></article></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><a class="has-link-black-ter" href="/STM32F407-Learning-Note-11.html">STM32F407 Learning Note 11</a></h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time datetime="${date_xml(page.date)}" title="${new Date(page.date).toLocaleString()}">$2023-05-26</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time datetime="2023-05-26T06:21:41.937Z" title="2023-05-26T06:21:41.937Z">2023-05-26</time></span><span class="level-item"><a class="link-muted" href="/categories/STM32/">STM32</a><span> / </span><a class="link-muted" href="/categories/STM32/F407/">F407</a></span><span class="level-item">3 minutes read (About 425 words)</span></div></div><div class="content"><h3 id="蜂鸣器介绍">蜂鸣器介绍</h3><p>蜂鸣器是一种一体化结构的电子讯响器,采用直流电压供电,广泛应用于各领域各种电子产品中作发声器件.</p><ul class="lvl-0"><li class="lvl-2"><h4 id="分类">分类</h4><ul class="lvl-2"><li class="lvl-4"><p>压电式蜂鸣器</p><p>主要由多谐振荡器,压电蜂鸣片,阻抗匹配器,共鸣箱及外壳等组成.当接通电源后(1.5<sub>15V直流工作电压),多谐振荡器起振,输出1.5</sub>5kHz的音频信号,阻抗匹配器推动压电蜂鸣片发声.</p></li><li class="lvl-4"><p>电磁式蜂鸣器</p><p>主要由振荡器,电磁线圈,磁铁,振动膜片及外壳组成.接通电源后,振荡器产生的音频信号电流通过电磁线圈,使电磁线圈产生磁场,振动膜片在电磁线圈和磁铁的相互作用下,周期性的振动发声.</p></li></ul></li><li class="lvl-2"><h4 id="参数以及更改方式">参数以及更改方式</h4><ul class="lvl-2"><li class="lvl-4">音色 ———— 更改波形</li><li class="lvl-4">音调 ———— 更改频率</li><li class="lvl-4">音量 ———— 更改占空比</li></ul></li></ul><h3 id="蜂鸣器模块电路">蜂鸣器模块电路</h3><p><img src="2023-05-26T002958.png" alt="2023-05-26T002958"><br><img src="2023-05-26T003158.png" alt="2023-05-26T003158"></p><h3 id="蜂鸣器代码实现">蜂鸣器代码实现</h3><figure class="highlight c"><figcaption><span>beep.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _BEEP_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _BEEP_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stm32f4xx.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;band.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Beep_Pin GPIO_Pin_8</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Beep_Port GPIOF</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> Beep PFout(8)</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Init</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_On</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Off</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Toggle</span> <span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>beep.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;beep.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Init</span> <span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">    GPIO_InitTypeDef GPIO_InitStructure;  <span class="comment">// Define the structure variable</span></span><br><span class="line"></span><br><span class="line">    RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOF, ENABLE);</span><br><span class="line"></span><br><span class="line">    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT; 		<span class="comment">// Configurate GPIO Mode</span></span><br><span class="line">    GPIO_InitStructure.GPIO_Pin = Beep_Pin; 				<span class="comment">// Set the pinouts</span></span><br><span class="line">    GPIO_InitStructure.GPIO_Speed= GPIO_Speed_100MHz; <span class="comment">//Set the speed to 100MHz</span></span><br><span class="line">    GPIO_InitStructure.GPIO_OType = GPIO_OType_PP; 		<span class="comment">// Set the output type</span></span><br><span class="line">    GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;  		<span class="comment">// Pull up</span></span><br><span class="line">    GPIO_Init(Beep_Port, &amp;GPIO_InitStructure);  					<span class="comment">// Initialize the structure	</span></span><br><span class="line"></span><br><span class="line">    GPIO_ResetBits(Beep_Port, Beep_Pin);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_On</span> <span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    Beep = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Off</span> <span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    Beep = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BEEP_Toggle</span> <span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    Beep = !Beep;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><a class="has-link-black-ter" href="/STM32F407-Learning-Note-10.html">STM32F407 Learning Note 10</a></h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time datetime="${date_xml(page.date)}" title="${new Date(page.date).toLocaleString()}">$2023-05-24</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time datetime="2023-05-26T04:08:12.228Z" title="2023-05-26T04:08:12.228Z">2023-05-26</time></span><span class="level-item"><a class="link-muted" href="/categories/STM32/">STM32</a><span> / </span><a class="link-muted" href="/categories/STM32/F407/">F407</a></span><span class="level-item">5 minutes read (About 704 words)</span></div></div><div class="content"><h3 id="SysTick系统定时器">SysTick系统定时器</h3><ul class="lvl-0"><li class="lvl-2"><h4 id="SysTick定时器介绍">SysTick定时器介绍</h4><p><strong>SysTick定时器</strong>也叫做<strong>SysTick滴答定时器</strong>,它是Cortex-M4内核的一个外设,被嵌入在NVIC中.它是一个24位向下递减的定时器,每计数一次所需的时间是$\frac{1}{SYSTICK}$,SYSTICK是系统定时器时钟,它可以直接取自<strong>系统时钟</strong>,还可以通过<strong>系统时钟8分频</strong>后获取,当定时器计数到0时,将<strong>LOAD寄存器</strong>中自动重装定时器初值,重新向下递减计数,如此循环往复.如果开启SysTick中断的话,当定时器计数到0,将产生一个中断信号.因此只要知道计数的次数就可以准确得到它延时的时间.</p></li><li class="lvl-2"><h4 id="CTRL寄存器">CTRL寄存器</h4><p>CTRL是SysTick定时器的控制及状态寄存器.</p><table><thead><tr><th>位段</th><th>名称</th><th>类型</th><th>复位值</th><th>描述</th></tr></thead><tbody><tr><td>0</td><td>ENABLE</td><td>R/W</td><td>0</td><td>SysTick定时器使能位</td></tr><tr><td>1</td><td>TICKINT</td><td>R/W</td><td>0</td><td>1=SysTick倒数到0时产生SysTick异常请求<br>0=SysTick倒数到0时无动作</td></tr><tr><td>2</td><td>CLKSOURCE</td><td>R/W</td><td>0</td><td>1=外部时钟源(STCLK)<br>0=内核时钟(FCLK)</td></tr><tr><td>16</td><td>COUNTFLAG</td><td>R</td><td>0</td><td>如果在上次读取本寄存器后,SysTick已经数到0,则该位为1,如果读取该位,该位将自动清零</td></tr></tbody></table></li><li class="lvl-2"><h4 id="LOAD寄存器">LOAD寄存器</h4><p>LOAD是SysTick定时器的重装载数值寄存器.</p><table><thead><tr><th>位段</th><th>名称</th><th>类型</th><th>复位值</th><th>描述</th></tr></thead><tbody><tr><td>23:0</td><td>RELOAD</td><td>R/W</td><td>0</td><td>当倒数至零时,将被重装载的值</td></tr></tbody></table></li><li class="lvl-2"><h4 id="VAL寄存器">VAL寄存器</h4><p>VAL是SysTick定时器的当前数值寄存器.</p><table><thead><tr><th>位段</th><th>名称</th><th>类型</th><th>复位值</th><th>描述</th></tr></thead><tbody><tr><td>23:0</td><td>CURRENT</td><td>R/Wc</td><td>0</td><td>读取时返回当前倒计时的值,写他则使之清零,同时还会清除在CTRL(SysTick控制及状态寄存器)中的COUNTFLAG标志</td></tr></tbody></table></li><li class="lvl-2"><h4 id="SysTick定时器配置步骤">SysTick定时器配置步骤</h4><ol><li class="lvl-5">设置SysTick定时器的时钟源</li><li class="lvl-5">设置SysTick定时器的重装初始值</li><li class="lvl-5">(Optional)使能SysTick中断</li><li class="lvl-5">清零SysTick定时器当时计数器的值</li><li class="lvl-5">打开SysTick定时器</li></ol></li><li class="lvl-2"><h4 id="SysTick延时程序代码演示">SysTick延时程序代码演示</h4></li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">SysTick_Init</span> <span class="params">(u8 SYSCLK)</span> &#123;</span><br><span class="line"></span><br><span class="line">    SysTick_CLKSourceConfig(SysTick_CLKSource_HCLK_Div8);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// SYSCLK的8分频 保存1us所需的计数次数</span></span><br><span class="line">    fac_us = SYSCLK/<span class="number">8</span>;</span><br><span class="line">    <span class="comment">// 保存1ms需要的SysTick时钟数</span></span><br><span class="line">    fac_ms = (u16)fac_us*<span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_us</span> <span class="params">(u32 nus)</span> &#123;</span><br><span class="line">    <span class="comment">// 配置寄存器</span></span><br><span class="line">    SysTick-&gt;LOAD = nus*fac_us;</span><br><span class="line">    SysTick-&gt;VAL = <span class="number">0x00</span>;</span><br><span class="line">    SysTick-&gt;CTRL |= <span class="number">0x01</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开始延时</span></span><br><span class="line">    u32 tmp;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        tmp = SysTick-&gt;CTRL;</span><br><span class="line">    &#125;<span class="keyword">while</span> ((tmp&amp;<span class="number">0x01</span>)&amp;&amp;!(tmp&amp;(<span class="number">1</span>&lt;&lt;<span class="number">16</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭寄存器</span></span><br><span class="line">    SysTick-&gt;CTRL &amp;= ~<span class="number">0x01</span>;</span><br><span class="line">    SysTick-&gt;VAL = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_nms</span> <span class="params">(u32 nms)</span> &#123;</span><br><span class="line">    <span class="comment">// 配置寄存器</span></span><br><span class="line">    SysTick-&gt;LOAD = (u32)nms*fac_ms;</span><br><span class="line">    SysTick-&gt;VAL = <span class="number">0x00</span>;</span><br><span class="line">    SysTick-&gt;CTRL |= <span class="number">0x01</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开始延时</span></span><br><span class="line">    u32 tmp;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        tmp = SysTick-&gt;CTRL;</span><br><span class="line">    &#125;<span class="keyword">while</span> ((tmp&amp;<span class="number">0x01</span>)&amp;&amp;!(tmp&amp;(<span class="number">1</span>&lt;&lt;<span class="number">16</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 关闭寄存器</span></span><br><span class="line">    SysTick-&gt;CTRL &amp;= ~<span class="number">0x01</span>;</span><br><span class="line">    SysTick-&gt;VAL = <span class="number">0x00</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *  但是delay_nms最高延时只能 798ms (2^24/21),为了延长,所以要写其他另一个函数进行长时间的延时.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">delay_ms</span> <span class="params">(u16 nms)</span> &#123;</span><br><span class="line">    <span class="comment">// 考虑到有些用户可能会超频使用</span></span><br><span class="line">    <span class="comment">// 比如超频到248MHz时,最大单次延时为541ms</span></span><br><span class="line">    u8 repeat = nms/<span class="number">540</span>;</span><br><span class="line">    u16 remain = nms%<span class="number">540</span>;</span><br><span class="line">    <span class="keyword">while</span> (repeat--) delay_nms(<span class="number">540</span>);</span><br><span class="line">    <span class="keyword">if</span> (remain) delay_nms(remain);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><a class="has-link-black-ter" href="/STM32F407-Learning-Note-9.html">STM32F407 Learning Note 9</a></h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="far fa-calendar-alt"> </i><time datetime="${date_xml(page.date)}" title="${new Date(page.date).toLocaleString()}">$2023-05-14</time></span><span class="level-item is-hidden-mobile"><i class="far fa-calendar-check"> </i><time datetime="2023-05-26T04:08:07.754Z" title="2023-05-26T04:08:07.754Z">2023-05-26</time></span><span class="level-item"><a class="link-muted" href="/categories/STM32/">STM32</a><span> / </span><a class="link-muted" href="/categories/STM32/F407/">F407</a></span><span class="level-item">3 minutes read (About 510 words)</span></div></div><div class="content"><h3 id="时钟配置函数介绍">时钟配置函数介绍</h3><table><tr><th>时钟使能配置函数</th><th>时钟源和分频因子相关配置函数</th><th>外设复位函数</th><th>参数状态获取函数</th><th>RCC中断相关函数</th></tr><tr><td valign="top">RCC_HSICmd<br>RCC_LSICmd<br>RCC_PLLCmd<br>RCC_PLLI2SCmd<br>RCC_PLLSAICmd<br>RCC_RTCCLKCmd<br>RCC_AHBxPeriphClockCmd<br>RCC_APBxPeriphClockCmd</td><td valign="top">RCC_HSEConfig<br>RCC_LSEConfig<br>RCC_PLLConfig<br>RCC_PLLI2SConfig<br>RCC_PLLSAIConfig<br>RCC_MC01Config<br>RCC_MC02Config<br>RCC_SYSCLKConfig<br>RCC_HCLKConfig<br>RCC_PCLK1Config<br>RCC_PCLK2Config<br>RCC_RTCCLKConfig<br>RCC_I2SCLKConfig</td><td valign="top">RCC_AHB1ResetCmd<br>RCC_AHB2ResetCmd<br>RCC_AHB3ResetCmd<br>RCC_APB1ResetCmd<br>RCC_APB2ResetCmd</td><td valign="top">RCC_GetSYSCLKSource<br>RCC_GetClocksFreq<br>RCC_GetFlagStatus<br>RCC_ClearFlag</td><td valign="top">RCC_ITConfig<br>RCC_GetITStatus<br>RCC_ClearITPendingBit</td></tr></table><ul class="lvl-0"><li class="lvl-2"><h4 id="HSE时钟配置函数代码实现">HSE时钟配置函数代码实现</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">RCC_HSE_Config</span> <span class="params">(u32 pllm, u32 plln, u32 pllp, u32 pllq)</span> &#123;</span><br><span class="line">  RCC_DeInit();                       <span class="comment">// 将外设RCC寄存器重设位缺省值</span></span><br><span class="line">  RCC_HSEConfig(RCC_HSE_ON);          <span class="comment">// 设置外部高速晶振(HSE)</span></span><br><span class="line">  <span class="keyword">if</span> (RCC_WaitForHSEStartUp()==SUCCESS) &#123;</span><br><span class="line">    RCC_HCLKConfig(RCC_SYSCLK_Div1);  <span class="comment">//设置APHB时钟(HCLK)</span></span><br><span class="line">    RCC_PCLK1Config(RCC_HCLK_Div4);   <span class="comment">// 设置低速APB1时钟(PCLK1)</span></span><br><span class="line">    RCC_PCLK2Config(RCC_HCLK_Div2);   <span class="comment">// 设置低速APB1时钟(PCLK2)</span></span><br><span class="line"></span><br><span class="line">    RCC_PLLConfig(RCC_PLLSource_HSE, pllm, plln, pllp, pllq); <span class="comment">// 设置PLL时钟源及倍频系数</span></span><br><span class="line">    RCC_PLLCmd(ENABLE);               <span class="comment">// 使能PLL</span></span><br><span class="line">    <span class="keyword">while</span> (RCC_GetFlagStatus(RCC_FLAG_PLLRDY)==RESET);        <span class="comment">// 检查指定RCC标志位设置与否</span></span><br><span class="line"></span><br><span class="line">    RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);                <span class="comment">// 设置系统时钟(SYSCLK)</span></span><br><span class="line">    <span class="keyword">while</span> (RCC_GetSYSCLKSource()!=<span class="number">0x08</span>);                      <span class="comment">// 等待至PLL作为系统时钟</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="位带介绍">位带介绍</h3><ol><li class="lvl-3"><p>位带操作</p><p>通过将每个比特位膨胀成一个32位字,当访问这些字的时候就达到了啊访问比特的目的.</p></li><li class="lvl-3"><p>STM32 位带及位带别名区域</p><p>支持位带操作的区域是<strong>SRAM区</strong>的最低1MB范围(APB1,APB2,AHB1外设)和<strong>片内外设区</strong>的最低1MB范围</p><p><img src="2023-05-24T172330.png" alt="2023-05-24T172330"></p><div class="tips"><p>即1MB区域膨胀为32MB的别名区域</p></div></li><li class="lvl-3"><p>位带区与位带别名区地址转换</p><ul class="lvl-2"><li class="lvl-5"><p>外设位带区</p><p>$$<br>AliasAddr = 0x42000000+(A-0x40000000)<em>8</em>4+n*4<br>$$</p></li><li class="lvl-5"><p>SRAM位带区</p><p>$$<br>AliasAddr = 0x22000000+(A-0x20000000)<em>8</em>4+n*4<br>$$</p></li><li class="lvl-5"><p>Note:</p><ul class="lvl-4"><li class="lvl-7">A: 表示要操作的那个位所在的寄存器的地址</li><li class="lvl-7">n: 表示为序号</li></ul></li><li class="lvl-5"><p><mark>统一公式</mark><br>$$<br>AliasAddr = ((A&amp;0xF0000000)+0x02000000+(((A&amp;000FFFFF)&lt;&lt;5)+(n&lt;&lt;2)))<br>$$</p></li></ul></li><li class="lvl-3"><p>位带操作的优点</p><ul class="lvl-2"><li class="lvl-5">控制GPIO口输入输出非常简单</li><li class="lvl-5">操作串行接口芯片非常方便</li><li class="lvl-5">代码简洁,阅读方便</li></ul></li></ol></div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">Previous</a></div><div class="pagination-next"><a href="/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/8/">8</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/azarai.jpeg" alt="AzarAI"></figure><p class="title is-size-4 is-block" style="line-height:inherit">AzarAI</p><p class="is-size-6 is-block">AI_Blog</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>USTC</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">38</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">21</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/AzarAI-TOP" target="_blank" rel="noopener">Follow</a></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com/AzarAI-TOP" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm/"><span class="level-start"><span class="level-item">Algorithm</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Assembler/"><span class="level-start"><span class="level-item">Assembler</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/CMake/"><span class="level-start"><span class="level-item">CMake</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/Firmware/"><span class="level-start"><span class="level-item">Firmware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Hexo/"><span class="level-start"><span class="level-item">Hexo</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Hexo/Prettify/"><span class="level-start"><span class="level-item">Prettify</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Linux/Commands/"><span class="level-start"><span class="level-item">Commands</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Shell/"><span class="level-start"><span class="level-item">Shell</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Linux/Touchpad/"><span class="level-start"><span class="level-item">Touchpad</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Machine-Learning/"><span class="level-start"><span class="level-item">Machine Learning</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Machine-Learning/NeuralNetwork/"><span class="level-start"><span class="level-item">NeuralNetwork</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Markdown/"><span class="level-start"><span class="level-item">Markdown</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Markdown/Math-Tokens/"><span class="level-start"><span class="level-item">Math Tokens</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/NodeJS/"><span class="level-start"><span class="level-item">NodeJS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Python/"><span class="level-start"><span class="level-item">Python</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/STM32/"><span class="level-start"><span class="level-item">STM32</span></span><span class="level-end"><span class="level-item tag">15</span></span></a><ul><li><a class="level is-mobile" href="/categories/STM32/F407/"><span class="level-start"><span class="level-item">F407</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/VSCode/"><span class="level-start"><span class="level-item">VSCode</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Windows/upgrade-10-to-11/"><span class="level-start"><span class="level-item">upgrade 10 to 11</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2023-05-26T17:38:23.000Z">2023-05-27</time></p><p class="title"><a href="/Algorithm-2-Cycle-List.html">Algorithm [2] Cycle List</a></p><p class="categories"><a href="/categories/Algorithm/">Algorithm</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2023-05-26T06:18:00.000Z">2023-05-26</time></p><p class="title"><a href="/STM32F407-Learning-Note-12.html">STM32F407 Learning Note 12</a></p><p class="categories"><a href="/categories/STM32/">STM32</a> / <a href="/categories/STM32/F407/">F407</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2023-05-25T16:00:00.000Z">2023-05-26</time></p><p class="title"><a href="/STM32F407-Learning-Note-11.html">STM32F407 Learning Note 11</a></p><p class="categories"><a href="/categories/STM32/">STM32</a> / <a href="/categories/STM32/F407/">F407</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2023-05-24T15:16:00.000Z">2023-05-24</time></p><p class="title"><a href="/STM32F407-Learning-Note-10.html">STM32F407 Learning Note 10</a></p><p class="categories"><a href="/categories/STM32/">STM32</a> / <a href="/categories/STM32/F407/">F407</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2023-05-14T15:32:40.000Z">2023-05-14</time></p><p class="title"><a href="/STM32F407-Learning-Note-9.html">STM32F407 Learning Note 9</a></p><p class="categories"><a href="/categories/STM32/">STM32</a> / <a href="/categories/STM32/F407/">F407</a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Algorithm/"><span class="tag">Algorithm</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembler/"><span class="tag">Assembler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CMake/"><span class="tag">CMake</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Commands/"><span class="tag">Commands</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cycle-List/"><span class="tag">Cycle List</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Develop-Environment/"><span class="tag">Develop Environment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Firmware/"><span class="tag">Firmware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MNIST/"><span class="tag">MNIST</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Markdown/"><span class="tag">Markdown</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NeuralNetwork/"><span class="tag">NeuralNetwork</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NodeJS/"><span class="tag">NodeJS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prettifly/"><span class="tag">Prettifly</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Render/"><span class="tag">Render</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/STM32/"><span class="tag">STM32</span><span class="tag">15</span></a></div><div class="control"><a class="tags has-addons" href="/tags/STM32F407/"><span class="tag">STM32F407</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sequential-Tables/"><span class="tag">Sequential Tables</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Touchpad/"><span class="tag">Touchpad</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VSCode/"><span class="tag">VSCode</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sudo/"><span class="tag">sudo</span><span class="tag">1</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/azarai.jpeg" alt="AzarAI-Blog" height="28"></a><p class="is-size-7"><span>&copy; 2023 AzarAI</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">Visited by <span id="busuanzi_value_site_uv">0</span> users</span></p><p class="is-size-7">© 2023</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/AzarAI-TOP/"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en")</script><script>var IcarusThemeSettings={article:{highlight:{clipboard:!0,fold:"unfolded"}}}</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load",()=>{window.cookieconsent.initialise({type:"info",theme:"edgeless",static:!1,position:"bottom-left",content:{message:"This website uses cookies to improve your experience.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",policy:"Cookie Policy",href:"https://www.cookiesandyou.com/"},palette:{popup:{background:"#edeff5",text:"#838391"},button:{background:"#4b81e8"}}})})</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load",()=>{"function"==typeof $.fn.lightGallery&&$(".article").lightGallery({selector:".gallery-item"}),"function"==typeof $.fn.justifiedGallery&&($(".justified-gallery > p > .gallery-item").length&&$(".justified-gallery > p > .gallery-item").unwrap(),$(".justified-gallery").justifiedGallery())})</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load",function(){document.querySelectorAll('[role="article"] > .content').forEach(function(e){renderMathInElement(e)})})</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener("DOMContentLoaded",function(){loadInsight({contentUrl:"/content.json"},{hint:"Type something...",untitled:"(Untitled)",posts:"Posts",pages:"Pages",categories:"Categories",tags:"Tags"})})</script></body></html>